!function(){"use strict";angular.module("ummuza").controller("majorityCtrl",t);function t(t,n,e,a,i,o,r,d,l){var u=this,c=(u.ui={},{});function s(t,e,a,i){return'<button class="btn btn-default" rel="tooltip" title="Edit" ng-click="mj.ui.edit('+t.productMajorityId+')">   <i class="fa fa-edit"></i></button>&nbsp;'+('<button class="btn btn-default" rel="tooltip" title="Delete" ng-click="mj.ui.delete('+t.productMajorityId+')">   <i class="fa fa-times"></i></button>&nbsp;')}function m(t,e,a,i){return t?n.l.toLocaleDateStr(n.l.toDatetimeUTC(t).toString(),n.l.DATETIME_FORMAT):"-"}return c.ids=[],u.dtCallback=function(t){u.datatable=t.DataTable},u.ui.search=function(){u.datatable.search(u.Keyword).draw()},u.ui.clear=function(){u.productName=void 0},u.ui.filter=function(){var t=[];u.title&&t.push({field:"productName",operator:"=",value:u.productName}),c.filters=t,u.dtService.param=c,u.datatable.draw()},u.ui.add=function(){l.go("app.management.majority-entry",{id:"new"})},u.ui.edit=function(t){l.go("app.management.majority-entry",{id:t})},u.ui.delete=function(t){r.deleteProduct({Id:t},u.datatable)},t.$on("ui.layout.resize",function(t,e,a){u.datatable.columns.adjust()}),t.$on("ui.layout.toggle",function(t,e){setTimeout(function(){u.datatable.columns.adjust()},700)}),t.$on("$destroy",function(){o.cancelAll()}),u.logKey="",u.init=(t=t,u.dtService=i.getService(),u.dtOptions=u.dtService.initTable(t,"/maintainmajorities/get",{route:"app.management.majority-entry",fixedColumn:[3,1]},"productMajorityId",!1,null,null,{onStateSaveParam:function(t){},onStateLoadCallback:function(t){t&&(u.Keyword=t.search.search)}}),u.dtColumns=u.dtService.setColumn([{data:"productMajorityId",className:"text-center"},{data:"productName"},{data:"detail"},{data:"delay",className:"text-center"},{data:"updatedBy",className:"text-center"},{data:"updatedDate",render:m},{data:null,title:"",render:s,className:"text-center"}]),void(u.isCollapsed=!0)),u}t.$inject=["$scope","farst","$window","$timeout","datatableService","pendingRequest","majorityEntryService","HttpService","$state"]}();