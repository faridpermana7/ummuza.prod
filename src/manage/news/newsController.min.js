!function(){"use strict";angular.module("ummuza").controller("newsCtrl",t);function t(t,n,e,a,l,i,d,o){var u=this,r=(u.ui={},u.type="all",{});function c(t,e,a,l){return'<button class="btn btn-default" rel="tooltip" title="Edit" ng-click="nw.ui.edit('+t.productNewsId+')">   <i class="fa fa-edit"></i></button>&nbsp;'+('<button class="btn btn-default" rel="tooltip" title="Delete" ng-click="nw.ui.delete('+t.productNewsId+')">   <i class="fa fa-times"></i></button>&nbsp;')}function s(t,e,a,l){return t?n.l.toLocaleDateStr(n.l.toDatetimeUTC(t).toString(),n.l.DATETIME_FORMAT):"-"}return r.ids=[],u.dtCallback=function(t){u.datatable=t.DataTable},u.ui.search=function(){u.datatable.search(u.Keyword).draw()},u.ui.clear=function(){u.title=void 0,u.delay=void 0,u.type=void 0},u.ui.filter=function(){var t=[];u.title&&t.push({field:"title",operator:"=",value:u.title}),u.delay&&t.push({field:"delay",operator:"=",value:u.delay}),null!=u.type&&"all"!=u.type&&t.push({field:"type",operator:"=",value:u.type}),r.filters=t,u.dtService.param=r,u.datatable.draw()},u.ui.add=function(){$state.go("app.manage.news-entry",{id:"new"})},u.ui.edit=function(t){$state.go("app.manage.news-entry",{id:t})},u.ui.delete=function(t){service.deleteUser({Id:t},u.datatable)},t.$on("ui.layout.resize",function(t,e,a){u.datatable.columns.adjust()}),t.$on("ui.layout.toggle",function(t,e){setTimeout(function(){u.datatable.columns.adjust()},700)}),t.$on("$destroy",function(){i.cancelAll()}),u.logKey="",u.init=(t=t,u.dtService=l.getService(),u.dtOptions=u.dtService.initTable(t,"/maintainnews/get",{route:"app.manage.news-entry",fixedColumn:[3,1]},"productNewsId",!1,null,null,{onStateSaveParam:function(t){},onStateLoadCallback:function(t){t&&(u.Keyword=t.search.search)}}),u.dtColumns=u.dtService.setColumn([{data:"productNewsId",className:"text-center"},{data:"type"},{data:"postDate",render:s},{data:"title"},{data:"user"},{data:"delay",className:"text-center"},{data:"updatedBy",className:"text-center"},{data:"updatedDate",render:s},{data:null,title:"",render:c,className:"text-center"}]),u.isCollapsed=!0,void(u.catParam=[{value:"all",label:"All"},{value:"image",label:"Image"},{value:"video",label:"Video"}])),u}t.$inject=["$scope","farst","$window","$timeout","datatableService","pendingRequest","ConfigService","HttpService"]}();