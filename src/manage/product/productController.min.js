!function(){"use strict";angular.module("ummuza").controller("productCtrl",t);function t(t,i,e,a,l,n,u,o){var r=this,c=(r.ui={},r.category="all",{});function d(t,e,a,l){return'<button class="btn btn-default" rel="tooltip" title="Edit" ng-click="pd.ui.edit('+t.productMenuId+')">   <i class="fa fa-edit"></i></button>&nbsp;'+('<button class="btn btn-default" rel="tooltip" title="Delete" ng-click="pd.ui.delete('+t.productMenuId+')">   <i class="fa fa-times"></i></button>&nbsp;')}function s(t,e,a,l){return t?i.l.toLocaleDateStr(i.l.toDatetimeUTC(t).toString(),i.l.DATETIME_FORMAT):"-"}return c.ids=[],r.dtCallback=function(t){r.datatable=t.DataTable},r.ui.search=function(){r.datatable.search(r.Keyword).draw()},r.ui.clear=function(){r.title=void 0,r.subtitle=void 0,r.category=void 0},r.ui.filter=function(){var t=[];r.title&&t.push({field:"title",operator:"=",value:r.title}),r.subtitle&&t.push({field:"subtitle",operator:"=",value:r.subtitle}),null!=r.category&&"all"!=r.category&&t.push({field:"category",operator:"=",value:r.category}),c.filters=t,r.dtService.param=c,r.datatable.draw()},r.ui.add=function(){$state.go("app.manage.product-entry",{id:"new"})},r.ui.edit=function(t){$state.go("app.manage.product-entry",{id:t})},r.ui.delete=function(t){service.deleteUser({Id:t},r.datatable)},t.$on("ui.layout.resize",function(t,e,a){r.datatable.columns.adjust()}),t.$on("ui.layout.toggle",function(t,e){setTimeout(function(){r.datatable.columns.adjust()},700)}),t.$on("$destroy",function(){n.cancelAll()}),r.logKey="",r.init=(t=t,r.dtService=l.getService(),r.dtOptions=r.dtService.initTable(t,"/maintainmenus/get",{route:"app.manage.product-entry",fixedColumn:[3,1]},"productMenuId",!1,null,null,{onStateSaveParam:function(t){},onStateLoadCallback:function(t){t&&(r.Keyword=t.search.search)}}),r.dtColumns=r.dtService.setColumn([{data:"productMenuId",className:"text-center"},{data:"category"},{data:"title"},{data:"subtitle",className:"text-center"},{data:"discountPrice",className:"text-right"},{data:"originPrice",className:"text-right"},{data:"stok",className:"text-center"},{data:"updatedBy",className:"text-center"},{data:"updatedDate",render:s},{data:null,title:"",render:d,className:"text-center"}]),r.isCollapsed=!0,void(r.catParam=[{value:"all",label:"All"},{value:"ori",label:"Original"},{value:"mix",label:"Mix Menu"},{value:"HAMPRES",label:"Hampres"},{value:"Frozen",label:"Frozen"}])),r}t.$inject=["$scope","farst","$window","$timeout","datatableService","pendingRequest","ConfigService","HttpService"]}();