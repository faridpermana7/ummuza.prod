!function(){"use strict";function e(t,e,n,a,o,s,u,i){var d=this;return d.menuId=a.modalInstance.data.menuId,d.isCreate="new"==d.menuId,d.titleForm=d.isCreate?"New Menu":"Edit Menu",d.ui={},d.model={},d.model.subPath=[],d.menuParents=[],d.accessLevel=[{id:0,name:"Root"},{id:1,name:"Developer"},{id:2,name:"Administrator"},{id:3,name:"Operator"}],d.ui.back=function(){n.go("app.management.sysmenu")},d.ui.save=function(){var e=d.model;d.isCreate?a.saveMenu(e,function(){a.modalInstance.close(!0),n.go("app.management.sysmenu")}):a.updateMenu(e,function(){a.modalInstance.close(!0),n.go("app.management.sysmenu")})},d.closeModal=function(){a.modalInstance.close(),n.go("app.management.sysmenu")},d.addSubPath=function(){console.log(d.model.subPath),d.model.subPath.push({path:""})},d.removeSubPath=function(e){d.model.subPath.splice(e,1)},d.getMenus=function(e){e||u.post("/menus/get",{id:d.menuId}).then(function(e){d.model=e.data.data.records[0]}),console.log(d.model),o.loadingOut()},d.getParents=function(){return u.post("/menus/group/get",{ids:[],filters:[],pageSize:100,keyword:""}).then(function(e){d.menuParents=e.data.data.records,d.model.menuAccessType=4,d.model.parentMenuId=7,d.getMenus(d.isCreate)})},d.iconCallback=function(e){e&&(d.model.icon=e)},t.$on("$destroy",function(){}),d.init=(o.loadingIn(),d.getParents(),void(d.validate=function(e,n){return s.formValidation(t,"menu",e,n)})),d}angular.module("ummuza").controller("sysMenuEntryCtrl",e),e.$inject=["$scope","$stateParams","$state","sysMenuEntryService","farst","validationService","HttpService","pendingRequest"]}();