!function(){"use strict";function e(e,t,a,n,l,i){var u,s=this,o=(s.ui={},s.status=!0,{});function c(e,t,a,n){return'<button class="btn btn-default" rel="tooltip" title="Edit" ng-click="sm.showMenuModal('+e.menuId+')">   <i class="fa fa-edit"></i></button>&nbsp;<button class="btn btn-default" rel="tooltip" title="Api" ng-click="sm.showMenuApiModal('+e.menuId+')">   <i class="fas fa-code"></i></button>&nbsp;<button class="btn btn-default" rel="tooltip" title="Delete" ng-click="sm.ui.delete('+e.menuId+')">   <i class="fa fa-times"></i></button>&nbsp;'}function d(e){return e?"<i class='fas fa-check'></i>":""}function r(e){e&&e.reload&&s.datatable.draw()}return o.ids=[],s.dtCallback=function(e){s.datatable=e.DataTable},s.ui.search=function(){s.datatable.search(s.Keyword).draw()},s.ui.filter=function(){var e=[];s.name&&e.push({field:"name",operator:"=",value:s.name}),s.code&&e.push({field:"code",operator:"=",value:s.code}),s.pathName&&e.push({field:"pathName",operator:"=",value:s.pathName}),null!=s.status&&100!=s.status&&e.push({field:"isActive",operator:"=",value:s.status}),o.filters=e,s.dtService.param=o,s.datatable.draw()},s.ui.clear=function(){s.name=void 0,s.code=void 0,s.path=void 0,s.status=100},s.ui.add=function(){t.go("app.management.menu-entry",{id:"new"})},s.ui.edit=function(e){t.go("app.management.menu-entry",{id:e})},s.ui.delete=function(e){service.deleteMenu({Id:e},s.datatable)},s.showMenuModal=function(e){s.modalMenuCallback.modalInstance({menuId:e||"new"})},s.onModalMenuCloseCallback=function(e){e&&s.datatable.draw()},s.showMenuApiModal=function(e){s.modalMenuApiCallback.modalInstance({menuId:e||"new"})},e.$on("ui.layout.resize",function(e,t,a){s.datatable.columns.adjust()}),e.$on("ui.layout.toggle",function(e,t){setTimeout(function(){s.datatable.columns.adjust()},700)}),s.logKey="",e.$on("$destroy",function(){i.unregisterCallback(s.logKey),l.cancelAll()}),s.init=(e=e,u=i,s.dtService=a.getService(),a=[{field:"isActive",operator:"=",value:s.status}],o.filters=a,s.dtService.param=o,s.dtOptions=s.dtService.initTable(e,"/menus/get",{route:"app.management.menu-entry",fixedColumn:[3,1]},"menuId",!1,null,null,{onStateLoadCallback:function(e){e&&(s.Keyword=e.search.search)}}),s.dtColumns=s.dtService.setColumn([{data:"menuId",className:"text-center",searchable:!1,orderable:!1,targets:0},{data:"name"},{data:"menuCode",className:"text-center"},{data:"path"},{data:"sequence",className:"text-center"},{data:"icon",title:"",render:function(e){return"<i class='"+e+"'></i>"},className:"text-center"},{data:"isGroup",render:d,sortable:!1,className:"text-center"},{data:"isActive",render:d,sortable:!1,className:"text-center"},{data:null,title:"",render:c,className:"text-center"}]),s.logKey=u.registerCallback(r,!0),s.isCollapsed=!0,void(s.statusParam=[{value:100,label:"All"},{value:!0,label:"Active"},{value:!1,label:"Disable"}])),s}angular.module("ummuza").controller("sysMenuCtrl",e),e.$inject=["$scope","$state","datatableService","farst","pendingRequest","modalLoginService"]}();